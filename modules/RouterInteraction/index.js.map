{"version":3,"sources":["modules/RouterInteraction/index.js"],"names":["getDefaultHistory","RouterInteraction","history","options","_reducer","_history","store","selectLocationState","state","locationBeforeTransitions","pathname"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AACA;;AACA;;;;AAEA,SAASA,iBAAT,GAA6B;AAC3B;AACA;AACA;AACA;AACA;AACA,SAAO,sEAAP;AACD;;IAEoBC,iB;;;AACnB,mCAGG;AAAA,4BAFDC,OAEC;AAAA,QAFDA,OAEC,gCAFSF,mBAET;AAAA,QADEG,OACF;AAAA;;AAAA,uLACUA,OADV;;AAED,UAAKC,QAAL;AACA,UAAKC,QAAL,GAAgBH,OAAhB;AAHC;AAIF;;;;iCACY;AAAA;;AACX,kDAAqB,KAAKG,QAA1B,EAAoC,KAAKC,KAAzC,EAAgD;AAC9CC,6BAAqB;AAAA,iBAAM,OAAKC,KAAX;AAAA;AADyB,OAAhD;AAGD;;;wBAEa;AACZ,aAAO,KAAKH,QAAZ;AACD;;;wBAEiB;AAChB,aAAO,KAAKG,KAAL,CAAWC,yBAAX,CAAqCC,QAA5C;AACD;;;;;kBArBkBT,iB","file":"index.js","sourcesContent":["import RcModule from 'ringcentral-integration/lib/RcModule';\nimport { useRouterHistory, createMemoryHistory, hashHistory } from 'react-router';\nimport { syncHistoryWithStore, routerReducer } from 'react-router-redux';\n\nfunction getDefaultHistory() {\n  // if (typeof window !== 'undefined') {\n  //   console.debug('hashHistory');\n  //   return hashHistory;\n  // }\n  // console.debug('memoryHistory');\n  return useRouterHistory(createMemoryHistory)();\n}\n\nexport default class RouterInteraction extends RcModule {\n  constructor({\n    history = getDefaultHistory(),\n    ...options\n  }) {\n    super({ ...options });\n    this._reducer = routerReducer;\n    this._history = history;\n  }\n  initialize() {\n    syncHistoryWithStore(this._history, this.store, {\n      selectLocationState: () => this.state,\n    });\n  }\n\n  get history() {\n    return this._history;\n  }\n\n  get currentPath() {\n    return this.state.locationBeforeTransitions.pathname;\n  }\n}\n"]}